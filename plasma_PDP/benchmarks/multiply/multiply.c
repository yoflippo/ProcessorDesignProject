/* multiply.c -- benchmark plain integer multiplication.

Copyright 2003 Free Software Foundation, Inc.

This file is part of GMPbench.

GMPbench is free software; you can redistribute it and/or modify it under the
terms of the GNU General Public License as published by the Free Software
Foundation; either version 3 of the License, or (at your option) any later
version.

GMPbench is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with
GMPbench.  If not, see http://www.gnu.org/licenses/.  */


#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include "gmp.h"
#include "hal.h"

#ifdef CUSTOM_MAIN

char mul_result[]="1499136412993943859110877160882136968849874530602215690262602173370532955079249577612539932749600092135153619868386153391785509846605430749259345630034118812891496067831755806718378313396869786392736271703169184059202616652771853421303656609954175511951871455520038183591895024750524414161173975302927167139530648720280853215701976700598463288818993540248572000392307817686044254975036899979092689874299312276403616830388476711451562463380495357000971151202074932758138216017314060312315415476238404453360123837665746435131703152641407139345839353552640688354643886518116970462985566096976076918849119465182679891120450536088853777512349668850784193900896568988606811040479763744955681670669204634069804722986350794152910458817145989471532289300859473462374562314074933637499459591875602064867168147778086082507786183805538241279556909534336117560955386712415754233473985577678655582244177621633609891356878944402720769760483001175811852871070961950700504780673051718028552785804300529889727203403512436215764510581137628785134941554561565462183289705907067944691564391070026822476871424895457182566898442935718141561331730721989924660767882838606849151688415989529000441901804003432622047032148816822543349282737842714548114490232870400226579391200556166790136143458027830969192808856750577415488693149808100403031772963253931377036535743183170254816494762131983506809962361526956250138487332623584405499821285497489329262742588113720444763154994035817288305225461825303421021180496355268527128598893303744334127528976398136372841729982568189305407825724163858087756626202460917824926084669691388135132801045708168708736786914188454711110232690063246945262891109249411899159301786894452343669746504809477810865529635309796549825838251605852307291631321121375527727358717871143779537997365798435530377802004881737057463539305556571378035725180211117909636815207781135048026845888129543777430875956527449168605476814219805987508003196136488425729466387790623495845812130296156453773861021179928673746089812424474456055171877031861046198568084470493688066828980179042162831384775652612454232728311617007529136689822254569556757949168621994240842327967182216113860329924347175561776418525685738508722714768060254272447319022852000665051778886653036049076740506289141962514050627061411910040677254651552383196574336756528495400202401643311009300256443624832018158202594698427285563357474976228204591038972173503148820127607644847890160346434775000359277850898634385973931220857901736973522806461247131247295828714851251089133108066154704041466109988603854977891087430061706301575269392455035902775624915941392884920588122932422526925369031111697246370858298728446116231391784244036778007760054233214618387612079904017087685131985625770085225908145159324277321489439946882504296071216424919734787303911933942408240312447334151652191536524924677235561575810262736914181914755144523620915283922081370370961561557871836250139791726436427837107763921290393763942642749142823648584502515625661045571230722465929068789448565518282442382436069665056117936032291118605625686191712591090578758919738064999819475288469791432991102801171483876507706035965359616942266427797858941174047337816188843573583880200076881970816806784339327608455033567157270185094231793193231260895162171006594173929105068606142515602702141997086127471474948422887160005887055640843310081537332964935669628911586333261588171851304834768636217491766772202156513762098621152908168751110564624777848157599386247182305838000500120689769921197688758700997422451521388606311785422824803946026047484493303669792097649032977551202389434121408920153894758299258350995337546857711150806833227219849540207546185625123530827832831570021847537099653651889119144595426212913777877304673530357425389560420887772328916777107686137936656581247861713535207062155039865304250827209902797866723078922696548995320776661333084845837893532703849574126688012384203649336305211507991570479821461902494566615028845491005717448712073245189713015283641040180463051392890234534963871300520393751018269397148998621340771566166032513838145562955279398692359310346444968466702031524882329899551545262423657134315925112910085459244706464982580504078023216662060677243334611793388676865626964055901863378304585735880016368192459103134292110943697923702687406480094850482711652563545559545261264484591125283771151224427970019912225565286157158609866258631998192792971992524603875517618603475305588441426172396878696359792209449503105071497607584921184767203821544424810359949517292588095465201588713890003170196415530252156488588743952182944483712819961137260041184281206203440293821100409571755271661543575259807625229345378025228331191540473054397580426888800579661412016906241613487635499091968277485708487003560356928617029548240578614226493117657507408005111957966929869621914336220365243203500567182721799295442365483559054271229987500651439199921570395322286143675487653739915326016645013376179969493505709565207814606601098471217611383872721375333146351867469779452868648608419305754089346655163491990879315004982861126986123735973425749332696338072214503177077161435710987333358528894961157288259744764637146914893845464003906486147510053505998961116387531768280860057019120963258057415775036341581771994148583944377098438005282030450060903831641747038080095049276299952961668993681520779108268703923856949625611599195228190168013180363319884013858356736922450897729754073437514641161421188403094360168195923265547692713146038781542590987506554362016517312321325425359653156895672325545264675071492598005665497607173647298402211156669656305353282517444586924783311153496511366916516522707848356544093950296347755187656625505938961490583524274718422745947887708415445638339266285862369616582384702781861388401860882520526671797902142207247958618381574564611638175858218867125722740258818699896763824882600143086257846175163852665744916169924161696020253798038248764312213230507106965323805391673241624747682009193051812446037664745536590485224290774905534840937890410202896907933181230021320324014935952328913155377654666034020719253685428026893915802741702841435107186697438230402999744812857828106877119714239907280711207239332497054810842024118277373028700026012453882693243846439533469984809845699945029378750962798976676396690610090200259062204599420586766060476103045325722912768516493774441657497633413507774304591361884243122865891743234384703777954187898376350504697402707112871481483399702227671905536082069613359090390694700612445795718383442458677923364061741009984714178347138825333627302016063332636872437273014573640709724075352722877205595761339212573749464581259069158228668823325940861520025263001511171018665598548835299419465796099005107466553373387418883869884124198464475354563228008504911205025326683360653860564543702369896415498643421643105737411078959035070518061245362547365821277558812405352212282152401707144592165288850421427131920973155471027001222377837455488048217525251255189435754178530921713051618800189731412781828072908681165260095193554903420063124764943623880493523740726062144589142641498273705891638310940967618591486143079041125924620297993868381465144150400619900625084664115160735587798925240901099332586560498220929901964365121615599293503928178376465740280616129802534208058108716504936365746842234505639218957471688474085826891964275866661564145759089916061785798919622548245542518984662771737295977541031050738241866722555222320793062415334295211994821218315055651647391548898411501424430004398871381790890385048934640119775537129844879852426519741925855534793899506563380159052909062397198039527614721118951521649915607111266608700355639736561202726644605031012632905917547640718963285761045172901169603088758324759242739119545081596998321303751607283626218669468271900261691051739064962526284663622789632981575592779212898068553039592045549897144166288808026092425762649457465024682069313155823249649879245679246698565811032803908050211062255406767284676671061476804123174875817451798736437161823680966961103885103545070769818199734672891985463338297492047995961838287939382037397048257987287507712407473043575912902111540458230176386430706898691856903899863690922642310676320179839223240718386465659969105966340700448243320259852894842635525981449263934385367600231560411114247961939348600479099034925251364831686263992241062321649598845781319937311508942713089987649170856095152914510807525175828733642836659021046659217650917735282619289144385231434743273488107294969020065417078836150564005884360265214471787114816287793737672898244969178776317592448210054858175440039522601965124813269605611312299987098791683886145815037533599172589203713727835070420217178988720442635138224912067183058198764180631990613768332052685910350242183886717193830557590659438146477270223443873601719677030338958889935673188794612755847116346063633417724340802858706305578167708603998960361318038075806375438995916883501887992018950651653934048233689364637371505266731539000699380626460098816657553761410037315447573147279902398248536037905151388122572973086040967290358106008708763553079905947826937715847993550485439919166572095676088276568464440848824288316079491423945609239884032192799002972729432683350575332424481715007965750530721248212418811551885700220116678805395585346054973258578433142816435221767285604320936228584731233774838409022527155420734202658418085649829105359048935027998282740146250307050923362098475904290676013637819808891372772518640726832399882707040317145930509021240531202541973694493411953857015218858167029283615260648944702002744438989018652992721961302047907157476288726078873693161408052047910329148176078713501789096864604385135708716090199708363076817394717720973886108449638576236182389287110180232582267848891459468081543736910491535035672273813824081468003436438563558675598077131207284390322972894721143565443874946498344286363775074811078149902460174098227986230966469326548186122699663163779083833160527990240057626359512297049210695996192479006755459218459266392830960026917789925275660523701635875302339360978379091934138738248590058476601867561679917092009131805299544724357828524096495711410391003450992246232031107370746911132203929605981463297693597056755032093804967821105010899341476495633321406500185163634915681955222895352493845670053434808679609900972314842320111167471606952557205219421629332360236927683874073862585891656556234787312303739340042434461228277198027072610722160986520357586741441923606042286127718630261944600024087637546390581126463652252656978195965941225670179714711175868910319018120802711765079606934798778035866783768011707099305051546710279486983008986911193631271008221821910307857514074750845719158394380018262714741780366158991860389040752749106113855595710562272366186103594192308449009153304016249920217755841964325013434634971539224911728282487203020278882511350741300807489781173883578897287004228999035445432855583381293669928791661034609646188859526810798402813809207487862210637448089878035185869256289630594155370220189463709357738806454953040430781538120955021435396380107969472899883076732297788554561159178375668885711937850989733664336424704182283965300984990953361803449274817588638301356543140043275356537540610546041280155299640021649818890957505681937379077422094091443183108849003707638730105783347029578431304107998454648122561284381686279707487283476150356779525585353485089863133052000353388842105752825191864607044961283370876819760070265136147154202516113901469967921618789918221260540110022921934163917370892722821041899875168734745583225960462398782115829376761105949100303658058859466813994441834700094506041235093765318956682394199748547144193612340382747278697821758572133006270973886802857609320881645427373691103503358460792001654271512296584630265867831518325264307187178511431292934452893405346148840269785991587963147499278120675288417284259245778137090333352286541789939598915479823186633682778263310707535412284915039735671392436734563101349051632673660805853270659991872767938184600907060155520593134229752309360735410659649793073998834547262872321945011864117099006301449071554140171093491413491389249545279658607003634163145543990811909293100459374359365311484671854989901943221898840866110395466888880663532729658937827892620032574732291032582156117792130640235803163487134222067425720599673978812043804908449977800616684693042082127553400991177634759319339164245236134008443060993896230656194130160211936505540461745430351537466395984686426774383536385402183007217070430300135699550513778724612983690316124069168018804206929287013458138791684734375388423841364620788375852420403070958790580163432893597869239017988950809680197688391148694731852087371640295002063267657884826685355238733857119720952212119642463646125309851369074386961459884095498055713850888263101294997519520709930536498209565387649067446919406735651008511862671749262757851354952364424947909183635228156042348119656432008464337043423069315699740431661504770844846463106614144126126891492912554127160409407655365927449620062620252198052482174674975000248298602636161262579829505191234602837429381903802238660172466105325394447379557373909565222745388950803477539996363564774351650779025388936882945754611758425216648518996595064098603890538434749113055649714216845681442495255370310580871955552273176318578274686151859122217297325310683952791642586196500167488814855078525824348805393598175751738813964273148906882510066380848442777783628133253841454134413083444474118223822341274610673288997756097928817770677678129242404049391726335031491456046530660658903001499534990542243778621239586027869812688901078524269294150970281046863635516371656455042413365190523248398966981391127861993748540950854453035672211386300112398410438277968642831952844143731785028076851385132767453495599001441806903465210776191342693276596344891692885532332799162944761015381684540148563911474076194207535064948118610588148604744691523417169733492999574511682348657018393382733499090389108932989534624632230724450102835467998914456912991462325523775727897916781290504614003682257012096412395648907674786777017493734385229624082699668991606889093801445530178806774597033329950212563188695823994682050683630553868869682944897302690265994063439078108401462339089412588341824333264032834981100841856904179170826537298416681243771072983158204608563390635859764456010245513390867032615100746760592921015451678977867053125059903609667371904357471458952316167912865092079158221268762531667856855254559442598033679420493941295967199786361583037554581166311888199414987910028386445935969154323159564556254999305467891445748711969220605479131559386132337084998035405492908077471794925521522318204178466780628929333657239310964753411648296431287018466125406942085577117134424361575072981961383252481903029759469081407406424229000931208747334132038049758132807862836078976136411910560242100426365974606986214251936526074133864226049902987235883389019483900109266990986703348543663816484510416486031825698462672676875442677676344460097153542427293284873449903745815531899695843284981092269510474778018313137496877057948797724908403383120701286987640662845242488695820220547253658498772703011393565757349830497535248600709515238418877767314892024117983483006998630687283709393381729170574714734495602437192563836383388195325704305408370662159201078102047992407224319150963914825230624301132879477658626166221363363050569791426782547550611323899565630277511972363564669709368590411073062252305041603361421488570586264019014072861713518412227213916514372910134131256366967066460374972178209508890471805151020817424780669971502786025244545187558509987274916388780789831223292301996775158348611596098828182522409672638487051862089357263097125782455089279497292269687341568038774302468091540478119784993838942469711600664083478627973109334169087037922904889343400202160467570258668623403721800621528952912763857431783249044698660367996397709374130298928596775714834424448301230294582818614212255900401458729115909100303291751165996754311538214851348467964542024036265041114689574957303605163135063163202211776917526092708378028146304888800295643743508711081344473826548538469558526501987552957704711692292737114639367704555971178185648221025185718153767615539366851434824194328197300684042120117514324754156187080277056728781328785871445431797458353421780351287493384624055478834823681297409180416931730836726009062802775905846506181660780131720156878889568552948114764691884561055848883894619003676393963935374249798326990070597717172869643304327158536028981705880912076163667184769955937004774901276744545931848599957342121587550098049588557823427402690862450710505936059312978308196634037757722038415288224635163084295091024691669391345256231870836662080602658853709424031054291111775397435998059155514333640817212591826632790441629878911527584833987533992434725710883287765221615404874204824230813076463984188667867693494489253138697438960279469857136710669902183280825766273954634881425149958158023822060442831451361127899177118725020759605666760914745755660551233666492123815971458801616176887322416506833730193827402321898759392574698395746700647781563826581774479609540142392749691424331486286326435598806917797297923591681056366844009605315260483975200959889458346140892668665777028532189306520690206648682726675707536307015680568360961308327355028857945876861973010075907512088895621637845983509208949647556780694787301184799936434083797776351698365674349590671262484771399168524702588818652600489144744073028607272393285446129490614897202388059650491789724802688901305524088790349622032289579351392432164232662613099752167539476370382087278345131932565653298110306105550404135609424194206802639098417032046567921030194785762535341016369306782378282219317461476197775138084678701329916291058814413056459455311866899705464304433526078432796026209396064713107144892295993633010044578973870015412918658501445260853260934908134912078806981931670702704986939793568514764106599161459055578344727705269809010983647935494126761752901077555488949026843887234327334870912584345420748753874543465763889362339752983407515545750450028262689912573813644143299618111461547074945254653992509593137694986042721571530598367083656382550213909551725412116392343059033020503082273288510820308008966745619361551591802160789282254302182738418200723043515574431344076187786222820021592957931614040604904172020994415797597198930503616125031411420156473098184611203904197633942905128671753051632749372338648042737947222663657217138000347469520314760947266097720048720276119244270165778825643606473648752389001341856273576688820734015080357112381187816027878197394586101377313845140795503581771100345147971452477814570167770580749042490602894448079623634223415388897011521551668094719048106655294987508147652465036179871323032749040182621795115123341007253534187254129793142843700698157537441345810650733258674824761898197822776736422821094436327786512066896087132758815462989782193491613765993586689928215600320337108385650520769073806538996008344420584707124147288497654696332495805865351727758593415021884719554568555904656188041512658651293940491117189714611730946366135392726866249211582594540143449877556155318233704313793516659094970287648742910891202246585584103739647983931452181756366459151658242551842770803326364753385646571000647835735331281082414906214179014272825847534996171809853208122256449703888928457385186174326586934831657155732198312070780830072149757662171801885278658923655770392449135579084826138358072393028884884017266808862427231375909558502239101786897167772219604388434567855930671391565043399947960630758394362201584301682831485212594246554813540959563268887823757016597930092084940325461225477366982590043365765411004663203544241023718459301530930556258262180459859376472475634046413824238296153762927661924877736714972230845999182384548986487528122726678714213909628464177788514191796820179212961673053913199881308063499287718464480469369993671259219698571436367006654847435942691179034283575120343962349772351545027916163060349818288834563576379614134525353673535427572797435926962019398870477633537431357962253322671906543875159491200595621926893271333019388128271888546885291139390189744555418134046786872760805096648692857938035359547564310297048753797085075524683287380747866993859635140530013933064324883901287925017753056989073061884085352871684220828776239317342711809465049199595598227646285110797679225734938669356060036740859447855579787895383795695240676572153210993770361131668748215123952338491629460625248990875704072072604101447068086446324633266806854923640459567589190732593416974149347398620244391052908717251867518532538057198732669159058913078785976183042402984497379731441897760850774014268848504460213436870476886223738592570704266304226569040374977636748498244616078567771699565637345289845247280183775762722710558410825747233480751891093050390138924538004031350158176203561217468531919184172587736157135857161962662989096976980806422090066394179955989797047101663106282878225845291707026181993640442297355345818474277864368848212603013637008907667483753305803633152559171998965567951396972042938751358336320555053110094642676166755078637628867282000484905967663651738081705439384868505023965231204251065169167596844475295898515175573948160776087501696330784223283213180542359169054766500977347074089545838543802213543642236373863354779505086106687445435631713338852323811711194454261894820893117921542858076900172761535471763088719975611527871582529728170789635849245395031395994139487944975086252255695056593698602957526187766914012166021542221770927510413834057732183171576036550647034820497666188321446545259852925108227610161478045216869219957077078646581655566974170936504279851747700929890109123790025245979568066002331515523583332839133542212534718785373677871081775043130694755530363408353997813446155719455385494852821716788821218613133095452746414566090630449186806117475320271667655520335421658939777653258814702889663744201063819945888952275562221828250507038144152756860808812416572344103160213716254573056199412134346488397513749342037078912466482962603117415090997087878992267661819688502182219514739195734596160672168010564990551301273218126605814745533443665921117305740209782551422103583499504934404030696783157470324565453220517426020516534934549524455922725542143429050504090090279304981533800098413207315754603217023001587148034261440485849868760731381202001661398183287297823374950421676654811220025602844040456046805110555497043200217933125557499671791711666192236743510624094162708074004125720749234816031883624033401927577635208605483009741019765829643598688041523859225023189521173895464202867290427305501366378681984898573110622312835961902732928445888062984959185599055169258150425328183677159549567991640785819741818750202681933428647506064173390473913288749586748792328630007664522765419592186759791874096406674468504921367742549100565209270238643092468200595928525091132256885220640812074735252600348292954323279649757944053933112591271711416626148508393898937299926900143501267455259676070310349186184825021035328305703015225183002196080830022112237508213575312445519955108599942685396116543352134150519251141641638161341212856175883390899962265191816530215610736710719064117329185483388547623222992287796901798876576271586538558365776700280683049468993130457628923883691183806736744512222882579117525530788378537693971424474736789456588457952989000694765015164383257102694193939412657890209349890557837999826097836634712667899282870093005569411445189624903388610427889049182777409293814735046278938090549175426624951624830416158896002223284553269960576482045376719675350703537891717095615204116393324050531728839971815706101321123424444909284331445505447953986382075767841496532167701908971400981189145915282067445456529279200572412844375379688466563557242481943231573748660964709296837609026872692735878923614518576437067384523534968690491496233025621510374245694296488634305722149930254708088867080607169281120041683985680378908612391533449742689899518192188732057710303749465994614443538903716842240447195107761272887491959917309739752795553707542648140015492927138129703707506207015126353570913548409260455995837873884872151951014428469388051208431140581586764158666706407497043027076283719474039366510953290018183313528985453221451725125898157582484083424085202694076093801418810963591779153845990290976908787369150665313114625979711345028866006374003460124711318092257897277321540462705392569830194673431645874628320535554118747982782337516357563180113742625045078485667635225691413846475666948593995759096478226845858792978180663450900489498974258652496353452092511536557656965554622395985291859675646208569023024351398933341318087954594789943234113102622503049945631695499538583020325178941503627987145660045182944452943792822917135559914620225651719611753286605586360574277458825420744596009928752604163730434227699621855907549445457809188999366712911714502293858688282652441236460133246735643360658437644744048354681188219105061941807936167993231799321023024096432998398410444383145922816347765384760769634678572337729594975780113632445033783591058110155195936233101624589769435098366195805634903674280297149572349069251785530489353580425824480726527281036858497452741293304533301911641850972245703980680880392746816799311435978078452113080082399467311550189492600668248503339817550632118643367404905221416837432396851147693113154743821543120558225645918998551302448751575119389977104037353859890088536740018750189838126923690219695748535545840110951361775364362554686971100109505924494196757216656608271925583006202646965273809183840192753085834922518411167997350209364616019456478865601774613157327047638776884072019040676506722376424962638381620706930245738297335117664456874344543106483855882291605117315427189398776634976110888951214928904297168037945641860097160585288313410669356299536892040585493486344103571126249724396718986641111572758009513766882485835917123330056671922032139834383064385080456436543934524517699109324724843311876723915932063785908934582857674484695025023415889959646469996445506064251500057751272812030735489819088065979994165932002877548643350515328357357663827862105462712751450617870063232925485989763678776188527839455093978091592959490660167496470983437059967416191226892086819282601565293104457028790812236343121371791995317174591969861344004233196181121984832713361395821669558704839391107099896053979598369182128660509962440628697652881054562025145268963852604465696844531088533660042444799910269938868912478007809899348790378568757570621020019535506815803838310682519707284722510970981083993231881286167412653326316387463067108388141297530157111102403020471264872834621283395856255887776477670396257249584533598613170716897067261256911531042007730834219519561655035985467080603927072264772915007682728362638838690091017990095328656857153383588798147473182339837140955376146481928397177909214675093690564409505988447887592406486345356265827418228050710110321681043396329252577815327090595948074271331051590767891788806304088400766827372238799170251967399192207580050806089581295330335099557331936956321071844089831612353229646533938999507204607348802474563784045008222936456911699510983812192266271095291992379966497532397800041225106938652476404234645768436998123682215221258533780243975954896244200002884109238466522789866248245580783598204348843337887094718439003502962813283354728369064904375050581689692856053409544135114771458274753280122519680424575875625402933861941446700755265425103144099154002258085029569454452795125480101239779273704072333897472365163635239376091008226388540154902135153181701820602110263308622755799707565529838385292790971550166885891461816238861490665677763960458276619581235919347849171247729632037910715854145238768083320667108526960363594196940599448524347425083644755218724537713213663982243925130890272316174720642028601389412883936401164320205942035334997811375563605862067846829754603567411875912004462874363210154542072295086969874130894955015127962847737345451723037609941294733568631192305499723870756179802283326500750369595163799018432038440106470035955385486595092093907751682569205652357932976255241918619347488682818919486781375154937054885745880166226964589325491005018880202722667103658076478890924858099487164360147155732481677423063601775785605692101482370393612860831400992361719484282307195976924866759013571861286353397521384994286096526311310661276551157294680699800977108612284630131816817462494898431013624277203669286440936748116351348468841462301684836029864286966641413919132797562409273807495383366805864199896357195376801910997848552891123595060910136755577313726095156714210843371259860402047318781136241967269320225749981174962355491721114150984618773438465265828782313500633006786293465909461420946242546934136752208643172605556608783662527504190725581113639812956200686874857498972223835393877278258932561496842586935047001078634447652101646242281356540848851776472742017269025549381527211781763607369123497344133070885354562500323586180206138745161758050650566406541445294676641733207962296913657882479801560328678513592938253652635307034364225138209381343234698673156384898873119310754919931978697186355281050791116122440288008872596500805667508222365996641786051617768209147224869410418501896891192094328932006615744331841853799639181986475506583902461086834587434715552676318415308508574113010313430617624487166072002885650601849530808298559171908247512160585932163044577351598661147012093229890435244175044012464468146461151147136761735521555696825193711587791779817187452580623812021369762999866128838147227988799017932447513976053794632136934390170354760024744448336449925349321369670849136682548202622196014358816000635016077041732289607304630608316852142356812428816462583199265234386694721639936655572297952365501894487784286799582414996909567418513319724942106962252766544836984038774373650145515209923425972931495491544925784426567190863979257884244578442712375150943410372222302671751384784876395626147496449308259993958667997255434593450789265005036954978962886601161030834938720467073452314681187399439107520431810673927116486032694543949011146296273366482662721130492803792040712628687641639560751051942495179075780834159867637930305076806671458735990875656535342086589040915869414223726904956556028408561295049822312123258294880240824261536508632372872913923118243206618862852730288651765534895683823438312488199765935323352977960457138913337886063286174548917255169381298233945016635143209600572811914928670500366935649965045539087846657595747784551070805655421533747691321660031953234158183402851240521780250756360221509108122327983995549240702974829282112357526886715328380442958596156971578571225476896498301503549898465900036630906038657699148813555903393737159240682442283242121505255172975761183394817955704253970601593515952028581739745410632469281865312920875792178382871301477056771542871303413556741321022084317022970401003312230147746621660911288031241905536998200943905733370331912522037919627857359318472704646625562068497524915189804024313272745047021578209278430762105392392517581353484765279418980436045982556395124359748239485510337493501703172879973854535755872191911684793021008347752676233839278127538617049302867278376502992872538250555116827095645314514885735610438822218091486098577845359659930658672080729134720680222204221743171827860813951225313681301676239106603833785692387636263145708873153123321267687778492398565803552651086274536765699654585232855927320584406662033555770157561981100082608618349805327894651784172924247646520187063544515772755479037215864708929630522962405107391613528199183280964329157652858118562627304794125080796681194230682841655157801459338263022302910749676248374071245828039631951802634741711898608883904996027150321636578413918090355898323762822592122188885779902033371399762451765777090591320493726867433025228793609403080419712596421533426432876468041584824550463144780970028620517069527957267751866352017023865132661965020335090131933015206234271969333889913828294795376064463568181201370978716646833038986547077997108291432978178671505418977497324437695319756887450310762541661596282121679592935477860824755568749945802096127664588001769877626966951167244782015635267143679708560161260781935130882442817590642085585298160536768469247537374213455559685344400827077358592592012067847672538143569855241465566910842337266611704011897277422137041723344702241198870869061289659721810894983203414180068433443117370880578609563136003888285941099901052106250210148593829195764654425855596804264863114632457032100912059454561644285782132729274870962329505402385489948593327205288313427622401418092341969425402579964186141566215751268833086454247324229663994977964430730825467492256284799817899937062364399965942188218322590473841758289115436269811119610764003265488873652036706219835653331232860084699040592026727577959939230945434323216767022915982068644766448629083928526155774374344100004563392481908487737330525705836466011897353474087289468467379563823833829140282629415918305990022515134821760792728504686862681838853584074205337551525334791963157560629651262546932797017632819289572254383681803803611249887084242310869412686660682438992292759628734212141693052203631202406911520818884787002886790602997792218868199850575644979106448636951668075973799560316847265227152786930246374895398747689425615432817698372217564582329761238302160557883088624573845137308260943977144032185553753269076160141403089464720270198047693847050223076513716274417112869196434735043017084719169780135431071241536242939810129743369869860426119622929788545079537459875585201344773212830249992378507905976999161677563810496114265419624028125825099532972605692280010623925491670961866794800445164420407197713329174798972730474480490669412539193856008869465177747587715860643938095853099584155150181523330689175849857924319630162018556579094102856095456093050917550283684174782746205432426608653335681148922901073466795329075979748432278077354676727501386532494548970473212629912658675926077295631639164079286040844279703301437966386959737343626305487972443577025119961987322594037045379710810803224760945374477126352066227595758893222776547372137658657920655468542547040907277567253690263680438682471478082563574211224762772746344137585724082791743322840777888832891598161795508648859737523901159308743528112218200433630921499989199297809696006595906233178562220137444782329717437202046650663897007029292563438344488038000552967052231481950261917380615162808597332898273695819160841728399385799250207752018398354820253831514206395152647874043925379069677507908029883043555937389227211999357005821078243655425729798569128999467428063057034762023563724239293048670713939843461253683018462631191648668260219676674249409854825046336383145935360965026714456090964230990562138679296874933340766643140249314861047215576997501588363730744892536055548478139066309038481799932405618696478865571178945034050135859983400021722009225147783771961792196289477124184668888875996277376880687870082056314541760207008031353867665538578749826924146441335104018584260870551153544400446815669282445637263722276551152636869359989744131544863560724966152470945121064450846123682055839956453290961889509446230484436427069457402083516345715167305350721186921959173241949400102745369537671020476725183240330063563755162127350307944903691469602716447169654715970494837457801958311816136397582060052285843982181039304674816830911934422848979944409718341205708848861187158752480416613407930095213334105552039467626686780574286369165927712681955756147804162966056640296776179263504032561191973815357274672623502450155155069790253809223158356949683428909484845739358727277344464982407243174333004087796041580800772708301684590753056151955708992173368795935963992352856070635441241420799824099807123868841352365109540252461020840548531048574014772950088454044278121640790918520097141120255576411582766501352917982360377048901760426323918665630245566842858066506828820582661339864985384578745701641031612281327434783463745729435202258679450908274100509508948970276726231460400234188728061913284423159174133556682686636460633913551379049955383518905513227032590420808963863789183987149470623524953624527135376480607447039771319644348096334489500304876592448547852034587929735125468503613893975295798432566472488193404333369113198131388395343633190425468966593928801539610637186429544012605520523218891066411369280399226617481973677883903878599777877619713142327705838214856874612821660279757966196524842065400721862754071014658489442716889475488704172054548002358586435791457140713274407722789146415134774475905827289334030575223862762129670117666713924811381548884129486245974943846251137439919522243125401247198615612377624605963651646433088819666788174675930998642720807263813028283946000949631295174571232958286540909671993384189433460139643144028682981747157352129748017563304367482510642554937781364805709344029122240619686984829785624753898738508686830289065071103954477763790509222236664119017651916490281638183152652550921762016574704376815518271494727124086220667972802341621910619762669744654119767210679336314221764241767342599285178782056074793965763841842423605159921177569537737656647389248695636635656010965711549447154904817059623763270130719484212294389687334000864315126255603644978925609163703665661733615520748946648299846382309437601497882687589618967166335628486198001135077929658031600489228513071401398950720194099190738451970443438159778776632977603579562867033449891282698060351936929601866114215178615557141021228110439954202723952110868359226242789594538183675972018038848104958838710543792742825813008119796202860604567530320041717179898096910874382164702710512237822033517124826416547852463928480070633702142418747548414939923261552070458728785532837635552025868554008347168631903915564557656015302479069576431280913046003350888594105336258521821710058205136500005749582259320914750925991199120936367750854002111486803254670207124903375120398620008988290065675074289999779283694194314949564339139843842850920961325184735090110132898671310031836591557838725438187538756701226005471941188025696968850643989745746155098398085907890430980405557982288502672552189390331032514937944285325562151735362107032331251427743687197903606099499660105888142222639326101210717020877760335213838097678697615413147030621394922765676711351374333150564371274800316019009003304808438926071847558385238955596795337802967963497429663730646648054119921160106280271884250331132983689640912822087136612494391471212680798989875168855423818585866940355549089653633599520279851106803943301797381380871175145543773266974868832028620054533688633094971682659699055693067915077919312602422228488260042777768762137849859204915275144306281288972285328766711798086687739624898323695394364769900447606950639822750614559624952471013646337755951140329162392805930139571295585137064408035124429487403800935466790667842052348476334520066774981613076774000102430343464420075629584715420645602266028753681010713173229757021596121261063296468347468856190738605745675448759927162518557851101830805988995254908257521047849860475401183729163370760347883835193082773411507340042268462238215813973933357940064197560321165221128862547661526133095690367064395485205682928459698689041606179353635355964713075139357239549177039867533867512825531946102696507516612866414391113812004676188587296499295088301486603818294251524435856915061888488248018687572573394660965161173807297741676439545940982154940583417730353372059748374811593602435751092060184642551021370";

int _main_multiply(int argc ,char *argv[]);

#ifdef ALL_BENCHMARKS
double _multiply()
#else
int main(int argc, char *argv[])
#endif
{

	unsigned long long int t1,t2;
    char *args1[]={"multiply","1","65536","65536"};
    t1 = get_ticks();
    _main_multiply(4,args1);
    t2 = get_ticks();
    printf("----------------------------------------------------------\n");
    printf("MULTIPLY took %'.6lf million clock cycles\n",(t2-t1)/1000000.0);
    printf("----------------------------------------------------------\n");
#ifdef ALL_BENCHMARKS
    return (t2-t1)/1000000.0;
#else
    printf("%c\n",0xFE); // Signal termination to board server
    return 0;
#endif
}

int _main_multiply(int argc, char *argv[])
#else
int main (int argc, char *argv[])
#endif
{
  gmp_randstate_t rs;
  mpz_t x, y, z;
  unsigned long int m, n, i, niter;
  //char *sx,*sy
  char *sz;


  gmp_randinit_default (rs);

  mpz_init (x);
  mpz_init (y);
  mpz_init (z);

  if (argc == 4)
    {
	  niter = atoi (argv[1]);
      m 	= atoi (argv[2]);
      n 	= atoi (argv[3]);
      printf ("Multiplying %lu-bit number with %lu-bit number %lu times...\n", m, n, niter);
      fflush (stdout);
      mpz_urandomb (x, rs, m);
      mpz_urandomb (y, rs, n);
    }
  else
    {
      fprintf (stderr, "usage: %s i m n\n", argv[0]);
      fprintf (stderr, "  where m and n are number of bits in numbers tested\n");
      fprintf (stderr, "  and i is the number of iterations\n");
      return -1;
    }

  for (i = niter; i > 0; i--)
    {
      mpz_urandomb (x, rs, m);
      mpz_urandomb (y, rs, n);
	  //sx = mpz_get_str(NULL, 10, x);
	  //sy = mpz_get_str(NULL, 10, y);
      mpz_mul (z, x, y);
	  sz = mpz_get_str(NULL, 10, z);
	  if ( strcmp(mul_result,sz) ) {
		  printf("ERROR: Wrong result\n\n");
		  mpz_clear (x);
		  mpz_clear (y);
		  mpz_clear (z);
		  free(sz);
		  return 1;
	  } else
		  printf("CORRECT!\n\n");
	  //printf("%21s * %21s = %40s\n", sx, sy, sz);
	  //printf("%s * %s = %s\n", sx, sy, sz);
	  //printf("%s\n",sz);
	  //free(sx);
	  //free(sy);
	  free(sz);
    }
  //printf ("done!\n");
  mpz_clear (x);
  mpz_clear (y);
  mpz_clear (z);
  return 0;
}
